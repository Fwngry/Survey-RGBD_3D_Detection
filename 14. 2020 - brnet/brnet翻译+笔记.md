open source：https://github.com/cheng052/BRNet

使用反向追踪策略，解决杂乱背景下严重离群投票的影响

## 摘要

最近的很多研究都集中在如何利用端到端可训练的Hough投票来生成物体建议。然而，**目前的投票策略只能从潜在物体的表面接收部分投票，同时接收来自杂乱背景的严重离群投票，这阻碍了对输入点云信息的充分利用。**

受传统Hough投票方法中反向追踪策略的启发，在这项工作中，我们引入了一种新的三维物体检测方法，即反向追踪代表点网络（BRNet），它从投票中心生成地反向追踪代表点，并重新访问这些生成点周围的补充种子点，从而更好地捕捉原始点云中潜在物体周围的精细局部结构特征。

因此，在我们的BRNet中，这种自下而上，然后自上而下的策略使预测的投票中心和原始表面点之间相互一致，从而实现了更可靠和灵活的物体定位和类别预测结果。我们的BRNet简单而有效，在两个大规模的点云数据集ScanNet V2（以mAP@0.50，+7.5%）和SUN RGB-D（以mAP@0.50，+4.7%）上明显优于最先进的方法，同时它仍然是轻量级和高效的。

代码将在https://github.com/cheng052/BRNet

![image-20210627004342741](https://oj84-1259326782.cos.ap-chengdu.myqcloud.com/uPic/2021/06_27_image-20210627004342741.png)

回溯代表点和重访种子点。

我们展示了两把椅子的**投票集群中心（紫色的点）**。

回溯代表点：代表点是从投票群中心回溯的（红点）。在这种情况下，我们将**每个提案的代表点数量设定为12个**，在右边的椅子上进行说明。

重访种子点：在代表点的一个固定距离内的种子点被重新访问，在左边的椅子上以蓝色点显示。重访的种子点对椅子的表面有很好的覆盖，这意味着物体的形状和保持椅子扶手的结构细节。

## 引言

而VoteNet[20]及其变体[36, 41, 2, 1]在设计基于原始点云的端到端三维物体检测网络方面显示出巨大的成功。VoteNet将传统的Hough投票过程重新表述为一个逐点回归问题，并通过从输入点云中抽取一些票数在同一簇内的种子点来生成一个物体建议。然后，每个投票簇中的聚合特征被用来估计三维边界盒（如中心、大小和方向）和相关的语义标签。因此，回归投票的质量主要决定了生成建议的可靠性，然后决定了物体检测器的性能。

【问题分析】部分覆盖问题、点的离群值

![image-20210620161425148](https://oj84-1259326782.cos.ap-chengdu.myqcloud.com/uPic/2021/06_20_06_20_image-20210620161425148.png)

然而，尽管聚类的投票中心相当准确，但投票通常并不像我们期望的那样具有代表性。例如，如图1所示，通过从给定的投票集群中检索投票的种子点，这些相应的种子点要么**部分覆盖了底层物体**（图1（a）），要么包含来自**杂乱背景的严重异常值**（图1（b））。因此，如图1(a)所示，毫无疑问，如果投票只覆盖了投票中心周围的一小块区域，我们就无法准确预测一个长书架的边界盒。同样地，如图1（b）所示，**严重的离群值**使得我们无法根据投票特征准确地检测出椅子。此外，由于缺乏来自投票的知识，这些种子点的信息量较小，因此，如果我们简单地回溯这些种子特征（如传统的Hough投票[14]）来改进基于投票的三维物体检测方法，则会有不太明显的收获。

【解决思路】回溯并重访种子点

**我们希望从每个投票群的中心向后生成（或追踪）虚拟代表点，并使用这些虚拟点重新访问其周围的种子点。**

![image-20210620161729967](https://oj84-1259326782.cos.ap-chengdu.myqcloud.com/uPic/2021/06_20_06_20_image-20210620161729967.png)

fig2：回溯代表点和重访种子点。我们展示了两把椅子的投票集群中心（紫色的点）。代表点是从投票群中心回溯的（红点）。在这种情况下，我们将每个提案的代表点数量设定为12个，在右边的椅子上进行说明。然后，在代表点的一个固定距离内的种子点被重新访问，在左边的椅子上以蓝色点显示。重访的种子点对椅子的表面有很好的覆盖，这意味着物体的形状和保持椅子扶手的结构细节。最好在屏幕上观看。

> 分析：这种**生成性的回溯操作**表明了投票中心周围可能的物体形状分布，而重访的种子特征则提供了可能没有被投票完全发现的局部结构线索。这种自下而上再自上而下的过程最终可以形成一种相互作用，将种子特征和投票特征联系起来，这有可能增强彼此的特征，实现更稳健的物体类别预测和更准确的边界盒回归。

为此，我们提出了一种新的基于点云的三维物体检测方法，命名为回溯代表点网络（BRNet），将端到端的可学习回溯和重访操作纳入基于投票的框架。具体来说，我们提出了一个代表点生成模块，该模块根据投票集群中心的特征，在候选物体的三维区域内生成分布均匀的代表点。生成的点可以粗略地推断出物体的边界框，尽管它们的采样过程是不分等级的。每个代表点的重访种子点以类似于ROI网格集合的方式进行聚合[28]，但基于代表点的空间布局。在融合了重访种子点的聚合特征和投票集群中心的特征后，我们得到了重新定义的建议，以最终检测物体。请注意，所提出的边界盒回归方案明确取决于代表点的空间分布，因此提高了对物体类别内部和之间的形状变化的鲁棒性。

这项工作的贡献有三个方面。1）第一个三维物体检测网络，名为BRNet，它成功地将Hough投票的回溯步骤适应于三维物体检测。2）一个端到端的可学习网络，可以生成地回溯代表点，可靠地重访种子点，然后相互重新定义对象建议，以实现更稳健的对象分类和更准确的边界盒回归。3）在两个基准数据集上的最先进的三维物体检测性能，ScanNet V2[4]（50.9%，mAP@0.50）和SUN RGB-D[31]（43.7%，mAP@0.50）。

